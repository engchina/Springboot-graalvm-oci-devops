version: 0.1             
component: build
timeoutInSeconds: 5000
shell: bash
env:
  exportedVariables:
    - buildId
steps:
  - type: Command
    command: |
      wget https://objectstorage.eu-frankfurt-1.oraclecloud.com/p/dqtXs0f7rB65ZiPa1TopJYrpQkgpjAyo_mDu5vQhyJjWDHIai2y0QjpL5g1VDcEe/n/frsxwtjslf35/b/download/o/graalvm-ee-java11-linux-amd64-21.3.0.tar.gz
      wget https://objectstorage.eu-frankfurt-1.oraclecloud.com/p/yk30-_NDdL8Y8vw1geXCvHxijN0mTsFM2Q1mnxpt-GRws-IrcCS2-eMvVC6vxU4G/n/frsxwtjslf35/b/download/o/native-image-installable-svm-svmee-java11-linux-amd64-21.3.0.jar
      tar -xzf graalvm-ee-java11-linux-amd64-21.3.0.tar.gz
      export PATH=apache-maven-3.8.4/bin:graalvm-ee-java11-21.3.0/bin:$PATH
      export JAVA_HOME=graalvm-ee-java11-21.3.0
      java -version
      gu install -L native-image-installable-svm-svmee-java11-linux-amd64-21.3.0.jar
      ./mvnw package
      sh build.sh

